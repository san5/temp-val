<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Will You Be My Valentine? ‚ù§Ô∏è</title>
<style>
    body{
        margin:0;
        overflow:hidden;
        font-family: 'Segoe UI', sans-serif;
        background: linear-gradient(#ffdde1,#ee9ca7);
        text-align:center;
        color:#fff;
    }

    #gameArea{
        position:relative;
        width:100vw;
        height:100vh;
    }

    .heart{
        position:absolute;
        font-size:24px;
        animation: fall linear forwards;
    }

    @keyframes fall{
        to{ transform: translateY(100vh); }
    }

    #basket{
        position:absolute;
        bottom:20px;
        left:50%;
        transform:translateX(-50%);
        font-size:40px;
    }

    #meterBox{
        position:absolute;
        top:20px;
        left:50%;
        transform:translateX(-50%);
        width:60%;
        height:25px;
        background:#ffffff55;
        border-radius:20px;
        overflow:hidden;
    }

    #meter{
        height:100%;
        width:0%;
        background:#ff4d6d;
        transition:width .3s;
    }

    #proposal{
        display:none;
        position:absolute;
        top:50%;
        left:50%;
        transform:translate(-50%,-50%);
        background:#fff;
        color:#333;
        padding:40px;
        border-radius:20px;
        box-shadow:0 10px 30px rgba(0,0,0,0.3);
    }

    button{
        padding:12px 25px;
        margin:15px;
        font-size:18px;
        border:none;
        border-radius:10px;
        cursor:pointer;
    }

    #yes{ background:#ff4d6d; color:white; }
    #no{ background:#ccc; }

    #final{
        display:none;
        position:absolute;
        top:50%;
        left:50%;
        transform:translate(-50%,-50%);
        font-size:36px;
        animation:fadeIn 2s forwards;
    }

    @keyframes fadeIn{
        from{opacity:0; transform:translate(-50%,-60%);}
        to{opacity:1; transform:translate(-50%,-50%);}
    }
</style>
</head>
<body>

<div id="gameArea">

    <div id="meterBox"><div id="meter"></div></div>
    <div id="basket">üß∫</div>

    <div id="proposal">
        <h2>Will you be my Valentine? ‚ù§Ô∏è</h2>
        <button id="yes">Yes üíñ</button>
        <button id="no">No üôà</button>
    </div>

    <div id="final">
        üíï Yay! You just made my world brighter üíï<br>
        I promise to keep catching your heart forever ‚ù§Ô∏è
    </div>

</div>

<script>
const gameArea = document.getElementById("gameArea");
const basket = document.getElementById("basket");
const meter = document.getElementById("meter");
const proposal = document.getElementById("proposal");
const final = document.getElementById("final");
const noBtn = document.getElementById("no");

let score = 0;
let maxScore = 15;
let gameRunning = true;

// Move basket with mouse / touch
document.addEventListener("mousemove", e=>{
    basket.style.left = e.clientX + "px";
});
document.addEventListener("touchmove", e=>{
    basket.style.left = e.touches[0].clientX + "px";
});

// Create falling hearts
function spawnHeart(){
    if(!gameRunning) return;

    const heart = document.createElement("div");
    heart.classList.add("heart");
    heart.innerText="‚ù§Ô∏è";
    heart.style.left = Math.random()*window.innerWidth+"px";
    heart.style.top="-30px";
    heart.style.animationDuration = (3+Math.random()*2)+"s";

    gameArea.appendChild(heart);

    const fall = setInterval(()=>{
        const heartRect = heart.getBoundingClientRect();
        const basketRect = basket.getBoundingClientRect();

        if(
            heartRect.bottom >= basketRect.top &&
            heartRect.left < basketRect.right &&
            heartRect.right > basketRect.left
        ){
            heart.remove();
            clearInterval(fall);
            score++;
            meter.style.width = (score/maxScore*100)+"%";

            if(score>=maxScore){
                gameRunning=false;
                setTimeout(()=>proposal.style.display="block",500);
            }
        }

        if(heartRect.top>window.innerHeight){
            heart.remove();
            clearInterval(fall);
        }
    },50);
}

setInterval(spawnHeart,800);

// Move NO button away üòÜ
noBtn.addEventListener("mouseover",()=>{
    const x = Math.random()*300 -150;
    const y = Math.random()*200 -100;
    noBtn.style.transform = `translate(${x}px,${y}px)`;
});

// YES clicked
document.getElementById("yes").onclick=()=>{
    proposal.style.display="none";
    final.style.display="block";
    rainHearts();
};

// Romantic heart rain finale
function rainHearts(){
    setInterval(()=>{
        const h = document.createElement("div");
        h.classList.add("heart");
        h.innerText="üíñ";
        h.style.left = Math.random()*window.innerWidth+"px";
        h.style.animationDuration="4s";
        gameArea.appendChild(h);
        setTimeout(()=>h.remove(),4000);
    },200);
}
</script>

</body>
</html>
